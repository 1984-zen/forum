<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <script src="{% static 'jquery/jquery-3.5.1.min.js' %}"></script>

    <title>Exams</title>
</head>

<body>
    <div class="container">
        <!-- start here -->
      <ol class="breadcrumb my-4">
        <li class="breadcrumb-item"><a href="{% url 'show_exam_list' %}">Exams</a></li>
        <li class="breadcrumb-item">開始作答</li>
      </ol>

        {% if not username %}
        <span>please <a href="/login">login</a>
            <!--/ <a href = "/register">register</a> --></span>
        {% else %}
        <span><a href="/logout">log out</a></span>
        {% endif %}
        <h2>Hi! Wellcome {{ username|default:'Guest' }}</h2><br>

        <table style="width:100%">
            <thead>
                <tr>
                    <th>Exam Titles:</th>
                </tr>
                <tr>
                    <th style="font-size:1.5em">{{ exam }}</th>
                </tr>
            </thead>
        </table>

        <br>

        <form method="post" action="/exams/answer/{{ exam_id }}" enctype="multipart/form-data">{% csrf_token %}
            {% for q in questions %}
            <table style="width:100%;" border="1">
                <tbody>
                    <tr>
                        <td style="width:8%">
                            <strong>Question</strong>
                        </td>
                        <td>
                            <p style="color: blue;">{{ q.question }}</p>
                            <!-- <small style="color: #888">{{ board.description }}</small>-->
                            {% if videos %}
                            {% for v in videos %}
                            {% if v.question_id == q.id %}
                            <video width='400' controls>
                                <source src="{{ MEDIA_URL }}{{ v.file_path }}" type='video/mp4'>
                                </source>
                                Your browser does not support the video tag.
                            </video>

                            <br>

                            {% endif %}
                            {% endfor %}
                            {% endif %}

                            {% if images %}
                            {% for i in images %}
                            {% if i.question_id == q.id %}
                            <img src="{{ MEDIA_URL }}{{ i.file_path }}" width='400'>

                            <br>

                            {% endif %}
                            {% endfor %}
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Options</strong>
                        </td>
                        <td>
                            {% for o in q.options.all %}
                            <input type="checkbox" name="option_id[]" value="{{ o.id }}"
                                placeholder="answer"><label>{{ o.option }}</label>
                            <br>
                            {% endfor %}
                        </td>
                    </tr>
                </tbody>
            </table>
            {% endfor %}

            <br>
            
            <button type="submit">提交答案</button>
        </form>

        <br><br>
    </div> <!-- end here -->
</body>

</html>